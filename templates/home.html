<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home - Servicio de Salud del Maule</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='styles.css') }}"
    />
    <link
      rel="icon"
      type="image/png"
      href="{{ url_for('static', filename='logo_ministerio.png') }}"
    />

    <style>
      /* General Styles */
      body {
        font-family: Arial, sans-serif;
        background-color: #f4f6f8;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        min-height: 100vh; /* Ensure body fills the viewport */
      }

      .wrapper {
        display: flex;
        flex: 1;
        /* Ensures the main layout stretches to the height of the viewport */
      }

      /* Sidebar Styles */
      .sidebar {
        width: 200px;
        background-color: #343a40;
        color: white;
        padding: 20px;
        box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
        height: 100vh; /* Full height of the screen */
        position: fixed;
        top: 0;
        left: 0;
      }

      .sidebar h3 {
        color: #ffffff;
        margin-bottom: 20px;
        font-size: 18px;
      }

      .sidebar a {
        color: white;
        text-decoration: none;
        display: block;
        margin-bottom: 10px;
        padding: 10px;
        background-color: #495057;
        border-radius: 4px;
      }

      .sidebar a:hover {
        background-color: #6c757d;
      }

      /* Main content styles */
      .main-content {
        margin-left: 0px; /* Adjust this to match the sidebar width */
        flex: 1;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
      }

      .container {
        text-align: center;
        background-color: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        max-width: 600px;
        width: 100%;
      }

      h1 {
        color: #007bff;
        margin-bottom: 20px;
      }

      p {
        font-size: 16px;
        margin-bottom: 10px;
      }

      .btn {
        width: 100%;
        max-width: 300px;
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        color: white;
        text-decoration: none;
        display: block;
        margin: 10px auto;
        font-size: 16px;
      }

      .btn-primary {
        background-color: #007bff;
      }

      .btn-primary:hover {
        background-color: #0056b3;
      }

      .btn-secondary {
        background-color: #6c757d;
      }

      .btn-secondary:hover {
        background-color: #5a6268;
      }

      .btn-compromisosdepartamentales {
        background-color: #41a016;
      }

      .btn-compromisosdepartamentales:hover {
        background-color: #0f8625;
      }
      .btn-reu {
        background-color: #a08416;
      }
      .btn-reu:hover {
        background-color: #ffcc00;
      }
      .btn-comp {
        background-color: #513fb4;
      }
      .btn-comp:hover {
        background-color: #1d36c9;
      }
      .btn-danger {
        background-color: #dc3545;
      }

      .btn-danger:hover {
        background-color: #c82333;
      }
      .btn-archivados {
        background-color: #b16634;
      }
      .btn-archivados:hover {
        background-color: #633d19;
      }
      /* Footer Styles */
      .footer {
        background-color: #f8f9fa;
        padding: 20px 0;
        text-align: center;
        color: #666;
        font-size: 14px;
        border-top: 1px solid #ddd;
        margin-bottom: 0px;
      }

      .footer img {
        width: 80px;
        margin-top: 10px;
      }

      /* Responsive Styles */
      @media (max-width: 768px) {
        .sidebar {
          width: 160px;
          padding: 15px;
        }

        .main-content {
          margin-left: 180px;
          padding: 10px;
        }

        .btn {
          padding: 8px 12px;
          font-size: 14px;
        }

        .sidebar a {
          font-size: 12px;
          padding: 6px;
        }

        .footer img {
          width: 60px;
        }
      }

      @media (max-width: 480px) {
        .sidebar {
          width: 140px;
          padding: 10px;
        }

        .main-content {
          margin-left: 160px;
          padding: 10px;
        }
      }
      .sidebar {
        width: 250px;
        background-color: #2c3e50;
        color: white;
        padding: 30px 20px;
        box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
        height: 100vh;
        position: fixed;
        top: 0;
        left: 0;
        overflow-y: auto;
      }

      .sidebar h3 {
        color: #ecf0f1;
        margin-bottom: 30px;
        font-size: 22px;
        font-weight: 600;
        text-align: center;
        padding-bottom: 15px;
        border-bottom: 2px solid #34495e;
      }

      .sidebar-nav {
        list-style-type: none;
        padding: 0;
      }

      .sidebar-nav li {
        margin-bottom: 15px;
      }

      .sidebar-nav a {
        color: #ecf0f1;
        text-decoration: none;
        display: block;
        padding: 12px 15px;
        background-color: #34495e;
        border-radius: 6px;
        transition: all 0.3s ease;
        font-size: 16px;
      }

      .sidebar-nav a:hover {
        background-color: #2980b9;
        transform: translateX(5px);
      }

      .sidebar-nav a i {
        margin-right: 10px;
      }

      /* Include alert styles if not already added */
      .alert {
        padding: 15px;
        margin-bottom: 20px;
        border: 1px solid transparent;
        border-radius: 4px;
        position: fixed; /* fixed position */
        bottom: 20px; /* bottom offset */
        right: 20px; /* right offset */
        min-width: 300px;
      }
      .alert-success {
        background-color: #d4edda;
        border-color: #c3e6cb;
        color: #155724;
      }
      .alert-danger {
        background-color: #f8d7da;
        border-color: #f5c6cb;
        color: #721c24;
      }
      .alert-warning {
        background-color: #fff3cd;
        border-color: #ffeeba;
        color: #856404;
      }
      .alert .close {
        background: none;
        border: none;
        font-size: 20px;
        cursor: pointer;
      }
    </style>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    />
  </head>

  <body>
    <div class="wrapper">
      {% if user.nivel_jerarquico != 'FUNCIONARIO/A' %}
      <div class="sidebar">
        <h3>Panel de Gestión</h3>
        <ul class="sidebar-nav">
          {% if user.nivel_jerarquico == 'DIRECTOR DE SERVICIO' %}
          <li>
            <a href="{{ url_for('director.resumen_compromisos') }}">
              <i class="fas fa-chart-line"></i>Resumen General de Compromisos
            </a>
          </li>
          {% endif %}
          <li>
            <a href="{{ url_for('director.funcionarios') }}">
              <i class="fas fa-user-tie"></i>Funcionarios
            </a>
          </li>
          <li>
            <a href="{{ url_for('director.departamentos') }}">
              <i class="fas fa-hospital"></i>Departamentos
            </a>
          </li>
          <li>
            <a href="{{ url_for('director.reportes') }}">
              <i class="fas fa-chart-bar"></i>Reportes
            </a>
          </li>
          <li>
            <a href="{{ url_for('home.ver_compromisos_eliminados') }}">
              <i class="fas fa-trash-alt"></i> Compromisos Eliminados
            </a>
          </li>
          {% if user.nivel_jerarquico == 'DIRECTOR DE SERVICIO' or
          user.nivel_jerarquico == 'SUBDIRECTOR/A' or user.nivel_jerarquico ==
          'SECRETARIO/A' %}
          <li>
            <a href="{{ url_for('director.origen_area') }}">
              <i class="fas fa-sitemap"></i> Áreas y Orígenes
            </a>
          </li>
          {% endif %}
        </ul>
      </div>
      {% endif %}

      <div class="main-content">
        <div class="container">
          <!-- Alert Section -->
          {% if alert %}
          <div class="alert alert-{{ alert['type'] }}">
            <span>{{ alert['message'] }}</span>
            <button
              type="button"
              class="close"
              onclick="this.parentElement.style.display='none';"
            >
              &times;
            </button>
          </div>
          {% endif %}
          <h1>Bienvenido, {{ user.name }} {{ user.lastname }}</h1>
          <p>Departamento: {{ user.departamento_name }}</p>
          <p>Cargo: {{ user.cargo }}</p>

          <a
            href="{{ url_for('reunion.crear_reunion_paso1') }}"
            class="btn btn-primary"
          >
            <i class="fas fa-calendar-plus mr-2"></i> Crear Reunión
          </a>
          <a href="{{url_for('home.mis_reuniones')}}" class="btn btn-reu">
            <i class="fas fa-handshake mr-2"></i> Mis Reuniones
          </a>
          <a href="{{ url_for('home.crear_compromiso') }}" class="btn btn-comp">
            <i class="fas fa-tasks mr-2"></i> Crear Tarea/Compromiso
          </a>
          <a
            href="{{ url_for('home.ver_compromisos') }}"
            class="btn btn-secondary"
          >
            <i class="fas fa-list mr-2"></i> Mis Compromisos
          </a>
          <a
            href="{{ url_for('home.ver_compromisos_compartidos') }}"
            class="btn btn-compromisosdepartamentales"
          >
            <i class="fas fa-users mr-2"></i> Compromisos Departamentales
          </a>
          {% if user.nivel_jerarquico != 'FUNCIONARIO/A' %}
          <a
            href="{{ url_for('home.ver_compromisos_archivados') }}"
            class="btn btn-archivados"
          >
            <i class="fas fa-archive mr-2"></i> Compromisos Archivados
          </a>
          {% endif %}
          <a href="{{ url_for('auth.logout') }}" class="btn btn-danger">
            <i class="fas fa-sign-out-alt mr-2"></i> Cerrar Sesión
          </a>
        </div>
      </div>
    </div>

    <footer class="footer">
      Servicio de Salud del Maule
      <div>
        <img
          src="{{ url_for('static', filename='logo_ministerio.png') }}"
          alt="Logo Servicio de Salud del Maule"
        />
      </div>
    </footer>
  </body>
</html>
